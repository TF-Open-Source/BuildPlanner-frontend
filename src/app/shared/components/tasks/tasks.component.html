<section class="tasks-container">
    <h1 class="page-title">Inicio &gt; Tareas</h1>
  <div class="tasks-content">
    <div class="toolbar">
      <span class="sort-label">Ordenar por:</span>
      <button mat-icon-button (click)="ordenarPorFecha()" aria-label="Ordenar por fecha">
        <mat-icon>calendar_today</mat-icon>
      </button>
      <button mat-icon-button (click)="ordenarPorPrioridad()" aria-label="Ordenar por prioridad">
        <mat-icon>priority_high</mat-icon>
      </button>
    </div>

    <table mat-table [dataSource]="tareas" class="mat-elevation-z1">
      <!-- N° -->
      <ng-container matColumnDef="numero">
        <th mat-header-cell *matHeaderCellDef> N° </th>
        <td mat-cell *matCellDef="let tarea; let i = index"> {{ i + 1 }} </td>
      </ng-container>

      <!-- Tarea -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef> Tarea </th>
        <td mat-cell *matCellDef="let tarea"> {{ tarea.nombre }} </td>
      </ng-container>

      <!-- Fecha Límite -->
      <ng-container matColumnDef="fecha">
        <th mat-header-cell *matHeaderCellDef> Fecha Límite </th>
        <td mat-cell *matCellDef="let tarea"> {{ tarea.fechaLimite }} </td>
      </ng-container>

      <!-- Prioridad -->
      <ng-container matColumnDef="prioridad">
        <th mat-header-cell *matHeaderCellDef> Prioridad </th>
        <td mat-cell *matCellDef="let tarea"> {{ tarea.prioridad }} </td>
      </ng-container>

      <!-- Estado -->
      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef> Estado </th>
        <td mat-cell *matCellDef="let tarea">
          <select [(ngModel)]="tarea.estado">
            <option value="Pendiente">Pendiente</option>
            <option value="En progreso">En progreso</option>
            <option value="Completada">Completada</option>
          </select>
        </td>
      </ng-container>

      <!-- Problemas -->
      <ng-container matColumnDef="problemas">
        <th mat-header-cell *matHeaderCellDef> Problemas </th>
        <td mat-cell *matCellDef="let tarea">
          <button mat-icon-button aria-label="report issue">
            <mat-icon>report_problem</mat-icon>
          </button>
        </td>
      </ng-container>

      <!-- Descripción -->
      <!-- Descripción -->
      <ng-container matColumnDef="descripcion">
        <th mat-header-cell *matHeaderCellDef> Descripción </th>
        <td mat-cell *matCellDef="let tarea">
          <a mat-icon-button [routerLink]="['/task-details', tarea.id]" aria-label="ver detalle">
            <mat-icon>search</mat-icon>
          </a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnas"></tr>
      <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
    </table>
  </div>
</section>
